<script>
const button = document.getElementById("button");
const result = document.getElementById("result");
const explainBtn = document.getElementById("explainBtn");
const popupOverlay = document.getElementById("popupOverlay");
const popupClose = document.getElementById("popupClose");

button.addEventListener("click", () => {
  const random = Math.floor(Math.random() * 10);
  if (random === 0) {
    result.innerHTML = "💥 爆発！<br>あなたは飲んで！🍶🍺<br><br>💥 ระเบิด!<br>คุณต้องดื่ม! 🍶🍺";
    result.className = "boom";
    button.disabled = true;
    // 数秒後に文字をリセットしてボタン復活
    setTimeout(() => {
      button.disabled = false;
      result.innerHTML = "次の人、準備はいいですか？👀<br>ถึงตาคนต่อไปแล้ว พร้อมหรือยัง? 👀";
      result.className = "";
    }, 4000);
  } else {
    result.innerHTML = "💨 セーフ！次の人にバトンタッチ！<br>💨 ปลอดภัย! ส่งต่อให้คนถัดไป!";
    result.className = "";
  }
});

explainBtn.addEventListener("click", () => {
  popupOverlay.style.display = "flex";
});

popupClose.addEventListener("click", () => {
  popupOverlay.style.display = "none";
});

popupOverlay.addEventListener("click", (e) => {
  if (e.target === popupOverlay) {
    popupOverlay.style.display = "none";
  }
});
</script>
